import React from 'react';
import { Button, Card, Group, Image, Text } from '@mantine/core';
import Counter from './Counter';
import { useCounterContext } from './CounterContext';

function CardBig({ item, index }) {
  const { counters, increment, decrement, list, updateList } = useCounterContext();
  return (
    <Card shadow="sm" padding="lg" radius="md" withBorder>
      <Group>
        <Image src={item.image} mah={276} maw={276} />
        <Group justify="space-between" mt="md" mb="xs">
          <Group>
            <Text fw={600} fz="18px" lh="155%">
              {item.name.split('-')[0]}
            </Text>
            <Text fw={600} fz="14px" lh="143%" opacity="40%">
              {item.name.split('-')[1]}
            </Text>
          </Group>
          <Counter
            value={counters[index]}
            decrement={() => decrement(index)}
            increment={() => increment(index)}
          />
        </Group>
      </Group>

      <Group justify="space-between" align="baseline">
        <Text fw={600} fz="20px" lh="120%">
          $ {item.price}
        </Text>
        <Button
          onClick={() => {
            updateList(item);
          }}
          color="#3b944e"
          variant="light"
          mt="md"
          radius="md"
          rightSection={
            <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M0.833313 4.05908e-05C0.373076 4.05908e-05 -2.04444e-05 0.373137 -2.04444e-05 0.833374C-2.04444e-05 1.29361 0.373076 1.66671 0.833313 1.66671V4.05908e-05ZM2.74376 0.833374L3.54812 0.615528C3.44974 0.252276 3.1201 4.05908e-05 2.74376 4.05908e-05V0.833374ZM5.84824 12.2961L5.04388 12.5139C5.15244 12.9147 5.53954 13.1745 5.9516 13.123L5.84824 12.2961ZM15.4005 11.102L15.5038 11.9289C15.8577 11.8847 16.1443 11.6201 16.2165 11.2709L15.4005 11.102ZM16.8333 4.17666L17.6494 4.3455C17.7001 4.10007 17.6378 3.84482 17.4795 3.65047C17.3213 3.45613 17.0839 3.34333 16.8333 3.34333V4.17666ZM3.64923 4.17666L2.84488 4.39451V4.39451L3.64923 4.17666ZM0.833313 1.66671H2.74376V4.05908e-05H0.833313V1.66671ZM5.9516 13.123L15.5038 11.9289L15.2971 10.2751L5.74488 11.4692L5.9516 13.123ZM16.2165 11.2709L17.6494 4.3455L16.0173 4.00782L14.5844 10.9332L16.2165 11.2709ZM1.93941 1.05122L2.84488 4.39451L4.45359 3.95881L3.54812 0.615528L1.93941 1.05122ZM2.84488 4.39451L5.04388 12.5139L6.65259 12.0782L4.45359 3.95881L2.84488 4.39451ZM16.8333 3.34333H3.64923V5.00999H16.8333V3.34333ZM7.99998 15.4228C7.99998 15.6529 7.81343 15.8394 7.58331 15.8394V17.5061C8.73391 17.5061 9.66665 16.5734 9.66665 15.4228H7.99998ZM7.58331 15.8394C7.3532 15.8394 7.16665 15.6529 7.16665 15.4228H5.49998C5.49998 16.5734 6.43272 17.5061 7.58331 17.5061V15.8394ZM7.16665 15.4228C7.16665 15.1927 7.3532 15.0061 7.58331 15.0061V13.3394C6.43272 13.3394 5.49998 14.2722 5.49998 15.4228H7.16665ZM7.58331 15.0061C7.81343 15.0061 7.99998 15.1927 7.99998 15.4228H9.66665C9.66665 14.2722 8.73391 13.3394 7.58331 13.3394V15.0061ZM14.6666 15.4228C14.6666 15.6529 14.4801 15.8394 14.25 15.8394V17.5061C15.4006 17.5061 16.3333 16.5734 16.3333 15.4228H14.6666ZM14.25 15.8394C14.0199 15.8394 13.8333 15.6529 13.8333 15.4228H12.1666C12.1666 16.5734 13.0994 17.5061 14.25 17.5061V15.8394ZM13.8333 15.4228C13.8333 15.1927 14.0199 15.0061 14.25 15.0061V13.3394C13.0994 13.3394 12.1666 14.2722 12.1666 15.4228H13.8333ZM14.25 15.0061C14.4801 15.0061 14.6666 15.1927 14.6666 15.4228H16.3333C16.3333 14.2722 15.4006 13.3394 14.25 13.3394V15.0061Z"
                fill="#3B944E"
              />
            </svg>
          }
        >
          Add to cart
        </Button>
      </Group>
    </Card>
  );
}

export default CardBig;
